#!/bin/bash
# Tar a directory with its permissions 

# This is Optional (otherwise the full path will be listed in the archive, e.g:/home/abz/Pictures)
 cd ~abz/Pictures/

# To archive
{

 # NOTE: The name of the archive before the directory
 
 # Full path
  tar -cpvf ~abz/Pictures.tar.gz ~abz/Pictures/		# you can add (z) to compress the archive but it takes longer
 
 # Explicit path (after using 'cd')
  tar -cpvf Pictures.tar.gz *

}

# To extract
{

 mkdir ~abz/Pictures-Backup/
 
 tar -xpvf ~abz/Pictures.tar.gz -C ~abz/Pictures-Backup/

 
} 



# List the contents of a tar file
{

	tar -tvf file.tar

#List the contents of a tar.gz file

	tar -ztvf file.tar.gz

}

# Exclude paths and files
{
	
	# exclude with patterns

	tar -czf file.tgz --exclude=PATTERN1 /path/to/backup

	# Exclude files using an exclude file filled with a list of patterns

	tar -czf backup.tar.gz -X /path/to/exclude.txt /path/to/backup

}	

# Copy files in the current working directory to the directory /target
{
	
	tar cpvf - * | ( cd /target; tar xpvf -)

# Copy to ssh
	
	tar cpvf - /source/important/data | ssh x.x.x.x "tar xpf - -C /dest/directory/" 

}



 c= create an archive
 p= permissions
 z= compress
 v= verbose
 t= list files
 f= filename
 x= extract
