#!/bin/bash
# GlusterFS tips and trick and caveats


# When Getting this error: 
# (is not in 'Peer in Cluster' state)

1: sudo gluster peer detach <hostname|ip>

2: Add all the Servers to the /etc/hosts file in all Servers

192.168.0.11  S1 S1
192.168.0.12  S2 S2
192.168.0.13  S3 S3
192.168.0.14  S4 S4

# Note: using hostnames is better
3:sudo gluster peer probe <hostname|ip> 

4: wait for the motherfucker to add the peer to cluster , 
	or else you will get the dreaded error (Peer not in Cluster)

5: Make sure the peer was added correctly by 
	issuing "sudo gluster peer status" and getting 
	(Peer in Cluster (connected))



#######################################################################

# Resources
http://serverfault.com/questions/531359/why-cant-i-create-this-gluster-volume
