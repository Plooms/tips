#!/bin/bash
# How to see duplicates in your media


# copy pasta all this in terminal

find NAS/Shows -iname "*---duplicate*" -size -2M -delete -print
tmpfile=$(mktemp)
find NAS/Shows -iname "*duplicate*mpeg" \
| cut -d"]" -f1 \
| rev \
| cut -d"/" -f1 \
| rev \
| while read a ; do find NAS/Shows -iname "$a*" -size +10M -exec sh -c 'du -hs "{}" | cut -f 1' \; -printf "rm -v '%p'\n\n" ; echo "" ;done | tee -a /tmp/"$tmpfile"
g /tmp/"$tmpfile"

# remove duplicates from filename
while read a ;\
do  b="$(echo "$a"| sed 's/-----Duplicate.*//g')"; \
mv -vi "$a" "$b" ;done <  /tmp/filename


